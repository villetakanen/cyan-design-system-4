---
title: '<cn-bubble>'
noun: 'bubble'
---
<article class="column-l">
# Bubbles

The `<cn-bubble>` element provides a styled component for comments and replies in discussions. It creates speech bubble-like containers for conversational interfaces with support for both regular messages and reply bubbles.

## Examples

<div class="flex flex-col">
  <article class="flex flex-row flex-no-wrap">
    <cn-avatar nick="Sparrow" src="https://picsum.photos/128/128"/>
    <cn-bubble class="grow">
      <div class="toolbar">
        <p>A Toolbar on top of the comment</p>
        <cn-menu inline="true"/>
      </div>
      <p>Some comment details here...</p>
    </cn-bubble>
  </article>
  <cn-bubble class="grow">
    <div class="toolbar small">
      <p class="grow">
        <a href="#complex-example">Link to a profile</a>
      </p>
       <cn-menu inline="true">
       <ul>
         <li>
           <a href="#">
             <cn-icon xsmall noun="edit"></cn-icon>
             Edit
           </a>
        </li>
        <li>
           <a href="#">
             <cn-icon xsmall noun="delete"></cn-icon>
             Remove
           </a>
         </li>
       </ul>
      </cn-menu>
    </div>
    <div>


And here's a comment

    </div>
    <div class="toolbar justify-end">
      <cn-reaction-button noun="love" count="4" small></cn-reaction-button>
    </div>
  </cn-bubble>

  <cn-bubble reply="true" class="grow">
    <div class="toolbar small">
      <p class="grow">
        <a href="#complex-example">Link to a profile</a>
      </p>
      <cn-menu inline>
      </cn-menu>
    </div>
    <div>
      <p>Here's a reply, with dolor sit amet, consectetur adipiscing elit. Nulla quis lorem ut libero malesuada feugiat. Nulla porttitor accumsan tincidunt. Curabitur aliquet quam id dui posuere blandit. Nulla quis lorem ut libero malesuada feugiat. Nulla porttitor accumsan tincidunt. Curabitur aliquet quam id dui posuere blandit.</p>
    </div>
    <div class="toolbar justify-end">
      <cn-reaction-button disabled noun="love" count="4" small></cn-reaction-button>
    </div>
  </cn-bubble>
</div>


## Properties

| Property | Type      | Default | Description                                    |
|----------|-----------|---------|------------------------------------------------|
| `reply`  | `boolean` | `false` | When true, styles the bubble as a reply with different positioning and colors |

## Basic Usage

```html
<!-- Basic bubble -->
<cn-bubble>
  <p>This is a message</p>
</cn-bubble>

<!-- Reply bubble -->
<cn-bubble reply>
  <p>This is a reply</p>
</cn-bubble>
```

## Styling

The component uses CSS custom properties for theming:

- `--color-bubble`: Background color for normal bubbles
- `--color-on-bubble`: Text color for normal bubbles  
- `--color-reply-bubble`: Background color for reply bubbles
- `--color-on-reply-bubble`: Text color for reply bubbles
- `--cn-border-radius-medium`: Border radius for bubble corners
- `--cn-grid`: Internal padding
- `--cn-gap`: External margin and tail size

## Content Guidelines

### Toolbar Support

The component provides special styling for elements with the `.toolbar` class:

- First toolbar gets negative top margin to align with bubble padding
- Last toolbar gets negative bottom margin to align with bubble padding
- Toolbar padding is reset to align with bubble edges

### Accessibility

- The component sets `role="article"` for screen readers
- Content should include appropriate semantic markup
- Interactive elements should have proper focus management

</article>

<article class="column-l">

## Complex Discussion Example

This example demonstrates a realistic discussion thread showcasing the interaction between `<cn-avatar>` and `<cn-bubble>` components. Note how avatars position themselves on different sides based on the bubble's origin.

<div class="discussion-thread flex flex-col gap">
  
  {/* Initial message */}
  <div class="message-row flex items-start">
    <cn-avatar nick="Alice" src="https://picsum.photos/seed/alice/128/128"></cn-avatar>
    <cn-bubble class="grow">
      <div class="toolbar">
        <p class="grow"><strong>Alice</strong> <span class="muted">2 hours ago</span></p>
        <cn-menu inline="true"></cn-menu>
      </div>
      <p>Has anyone tried the new component architecture? I'm curious about the performance implications of deeply nested components.</p>
      <div class="toolbar justify-end">
        <cn-reaction-button noun="love" count="3" small></cn-reaction-button>
        <cn-reaction-button noun="thumbs-up" count="7" small></cn-reaction-button>
      </div>
    </cn-bubble>
  </div>

  {/* Reply from different user */}
  <div class="message-row flex items-start flex-row-reverse">
    <cn-avatar nick="Bob" src="https://picsum.photos/seed/bob/128/128"></cn-avatar>
    <cn-bubble reply class="grow">
      <div class="toolbar">
        <p class="grow"><strong>Bob</strong> <span class="muted">1 hour ago</span></p>
        <cn-menu inline="true"></cn-menu>
      </div>
      <p>@Alice I've been testing it extensively! The shadow DOM isolation actually helps with performance since style recalculation is scoped.</p>
      <div class="toolbar justify-end">
        <cn-reaction-button noun="thumbs-up" count="2" small></cn-reaction-button>
      </div>
    </cn-bubble>
  </div>

  {/* Follow-up from Alice */}
  <div class="message-row flex items-start">
    <cn-avatar nick="Alice" src="https://picsum.photos/seed/alice/128/128"></cn-avatar>
    <cn-bubble class="grow">
      <div class="toolbar">
        <p class="grow"><strong>Alice</strong> <span class="muted">45 minutes ago</span></p>
        <cn-menu inline="true"></cn-menu>
      </div>
      <p>o_O</p>
    </cn-bubble>
  </div>

  {/* Follow-up from Alice */}
  <div class="message-row flex items-start">
    <cn-avatar nick="Alice" src="https://picsum.photos/seed/alice/128/128"></cn-avatar>
    <cn-bubble class="grow">
      <div class="toolbar">
        <p class="grow"><strong>Alice</strong> <span class="muted">45 minutes ago</span></p>
        <cn-menu inline="true"></cn-menu>
      </div>
      <p>That's interesting! Have you noticed any differences in memory usage? I'm particularly concerned about component cleanup.</p>
    </cn-bubble>
  </div>

  {/* Reply from Charlie */}
  <div class="message-row flex items-start flex-row-reverse">
    <cn-avatar nick="Charlie" src="https://picsum.photos/seed/charlie/128/128"></cn-avatar>
    <cn-bubble reply class="grow">
      <div class="toolbar">
        <p class="grow"><strong>Charlie</strong> <span class="muted">30 minutes ago</span></p>
        <cn-menu inline="true"></cn-menu>
      </div>
      <p>I can share some performance metrics from our production app. The new architecture reduced our bundle size by 15% and improved initial load times.</p>
      <div class="toolbar justify-end">
        <cn-reaction-button noun="love" count="5" small></cn-reaction-button>
        <cn-reaction-button noun="thumbs-up" count="4" small></cn-reaction-button>
      </div>
    </cn-bubble>
  </div>

  {/* Final response from Alice */}
  <div class="message-row flex items-start">
    <cn-avatar nick="Alice" src="https://picsum.photos/seed/alice/128/128"></cn-avatar>
    <cn-bubble class="grow">
      <div class="toolbar">
        <p class="grow"><strong>Alice</strong> <span class="muted">5 minutes ago</span></p>
        <cn-menu inline="true"></cn-menu>
      </div>
      <p>Wow, those are impressive numbers! @Charlie would you mind sharing those metrics in our next team meeting? I think everyone would benefit from seeing the data.</p>
      <div class="toolbar justify-end">
        <cn-reaction-button noun="thumbs-up" count="1" small></cn-reaction-button>
      </div>
    </cn-bubble>
  </div>

</div>

### Discussion Layout Features

This example demonstrates several key design patterns:

- **Alternating Sides**: Messages from different users appear on alternating sides, with avatars positioned accordingly
- **Consistent Spacing**: All elements use design system spacing tokens (`--cn-gap`)
- **Interactive Elements**: Each message includes toolbars with menus and reaction buttons
- **Visual Hierarchy**: Usernames, timestamps, and content are clearly differentiated
- **Reply Styling**: Reply bubbles use the `reply` attribute for visual distinction

### Implementation Notes

The layout uses `flex-direction: row-reverse` to position certain messages on the right side with their avatars. This creates a natural conversation flow while maintaining proper semantic order for screen readers.

</article>
